<!DOCTYPE html>
<title >webserv's super html page</title>
<html lang="en">
  <head>
    <style>
      #tilt {
        display: block;
        height: 1000px; /*Need to adjust this based on image height and width */
        width: 1000px; /*Need to adjust this based on image height and width */
        margin: 0 auto;
        transition: box-shadow 0.1s, transform 0.1s;
        background-image: url("cookies.png");
        background-size: 100%;
        background-repeat: no-repeat;
      }
      #tilt:hover {
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <body id =\"all\" style="font-family:'Roboto',sans-serif;margin: 0em; padding: 0em;">
        <div class="header" style="display:block; background-color: orange; text-align: center; padding: 15px; ">
        <h1 style="
        font-weight: bold;
        font-size: 30px;
        margin-top: 0px;
        margin-bottom: 10px;font-family:'Roboto',sans-serif;  "><a href="/html/home.html" style="text-decoration: none; color: white;">webserv index</a></h1>
        </div>
        
        <div class="menu" >
            <ul style=" margin: 0em; padding: 0em; list-style-type: none; overflow: hidden; background-color: #333;">
                <li style="float:left;"><a href="/html/home.html" style="display: block; color: white; text-align: center; padding: 14px 16px; text-decoration: none;">accueil</a></li>
                <li style="float:left;"><a href="/html/galerie.php" style="display: block; color: white; text-align: center; padding: 14px 16px; text-decoration: none;">galerie</a></li>
                <li style="float:left;"><a href="/html/text.php" style="display: block; color: white; text-align: center; padding: 14px 16px; text-decoration: none;">upload text</a></li>
                <li style="float:left;"><a href="/html/cookies.html" style="display: block; color: white; text-align: center; padding: 14px 16px; text-decoration: none;">Cookies</a></li>
		<li style="float:left;"><a href="/html/upload.php" style="display: block; color: white; text-align: center; padding: 14px 16px; text-decoration: none;">Upload image</a></li>
            </ul>
            </div>
        
    <div id="tilt"></div>
    <script>
      let el = document.getElementById("tilt");
      const height = el.clientHeight;
      const width = el.clientWidth;
      el.addEventListener("mousemove", handleMove);
      function handleMove(e) {
        const xVal = e.layerX;
        const yVal = e.layerY;
        const yRotation = 20 * ((xVal - width / 2) / width);
        const xRotation = -20 * ((yVal - height / 2) / height);
        const string =
          "perspective(500px) scale(1.1) rotateX(" + xRotation + "deg) rotateY(" + yRotation + "deg)";
        el.style.transform = string;
      }
      el.addEventListener("mouseout", function () {
        el.style.transform =
          "perspective(500px) scale(1) rotateX(0) rotateY(0)";
      });
      el.addEventListener("mousedown", function () {
        el.style.transform =
          "perspective(500px) scale(0.9) rotateX(0) rotateY(0)";
      });
      el.addEventListener("mouseup", function () {
        el.style.transform =
          "perspective(500px) scale(1.1) rotateX(0) rotateY(0)";
      });
    </script>

<script>
    function setCookie(cname,cvalue,exdays) {
      const d = new Date();
      d.setTime(d.getTime() + (exdays*10*1000));
      let expires = "expires=" + d.toUTCString();
      document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }
    
    function getCookie(cname) {
      let name = cname + "=";
      let decodedCookie = decodeURIComponent(document.cookie);
      let ca = decodedCookie.split(';');
      for(let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') {
          c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return "";
    }
    
    function checkCookie() {
      let user = getCookie("username");
      if (user != "") {
        alert("Welcome again " + user);
      } else {
         user = prompt("salut bg, donnes ton nom pr ce cookie qui a 10 secondes d'esperance de vie, merci bg:","");
         if (user != "" && user != null) {
           setCookie("username", user, 1);
         }
      }
    }
    </script>
    <body onload="checkCookie()"></body>
  </body>

</html>
